---
phase: 07-gap-closure-link-integrity
plan: 04
type: execute
wave: 2
depends_on: ["07-01"]
files_modified:
  - apps/web/src/app/hogskoleprovet/strategier/opengraph-image.tsx
  - apps/web/src/app/hogskoleprovet/strategier/kvantitativa-fallor/opengraph-image.tsx
  - apps/web/src/app/hogskoleprovet/strategier/verbala-fallor/opengraph-image.tsx
  - apps/web/src/app/hogskoleprovet/strategier/vanliga-misstag/opengraph-image.tsx
  - apps/web/src/app/hogskoleprovet/strategier/tidsstrategi/opengraph-image.tsx
autonomous: true

must_haves:
  truths:
    - "All 5 strategy pages have custom OG images"
    - "OG images build without Satori errors"
    - "OG images use dark theme matching site branding"
  artifacts:
    - path: "apps/web/src/app/hogskoleprovet/strategier/opengraph-image.tsx"
      provides: "Hub page OG image"
      contains: "HP Strategier"
    - path: "apps/web/src/app/hogskoleprovet/strategier/kvantitativa-fallor/opengraph-image.tsx"
      provides: "Kvantitativa fallor OG image"
      contains: "Kvantitativa"
    - path: "apps/web/src/app/hogskoleprovet/strategier/verbala-fallor/opengraph-image.tsx"
      provides: "Verbala fallor OG image"
      contains: "Verbala"
    - path: "apps/web/src/app/hogskoleprovet/strategier/vanliga-misstag/opengraph-image.tsx"
      provides: "Vanliga misstag OG image"
      contains: "Vanliga Misstag"
    - path: "apps/web/src/app/hogskoleprovet/strategier/tidsstrategi/opengraph-image.tsx"
      provides: "Tidsstrategi OG image"
      contains: "Tidsstrategi"
  key_links:
    - from: "strategier/*/opengraph-image.tsx"
      to: "Next.js og:image metadata"
      via: "ImageResponse export"
      pattern: "ImageResponse"
---

<objective>
Create OG images for all 5 strategy pages using the same design pattern as test page OG images.

Purpose: Enables branded social sharing for strategy content. Currently strategy pages have no OG images, showing only text metadata when shared on social media.

Output: 5 opengraph-image.tsx files generating dark-themed, branded OG images for each strategy page.
</objective>

<execution_context>
@/Users/williamlarsten/.claude/get-shit-done/workflows/execute-plan.md
@/Users/williamlarsten/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@apps/web/src/app/hogskoleprovet/[slug]/opengraph-image.tsx
@apps/web/src/app/hogskoleprovet/opengraph-image.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create strategy hub OG image</name>
  <files>apps/web/src/app/hogskoleprovet/strategier/opengraph-image.tsx</files>
  <action>
    Create `apps/web/src/app/hogskoleprovet/strategier/opengraph-image.tsx` for the hub page.

    Use the standard OG image pattern with these details:
    - `alt`: "HP Strategier - Maxa"
    - `size`: { width: 1200, height: 630 }
    - `contentType`: "image/png"
    - Design: Dark theme (#1E1A2D bg, #F5F5F5 text, #D4A017 accent)
    - Subtitle text (opacity 0.7): "Högskoleprovet"
    - Main title (bold, large): "HP Strategier"
    - Description (opacity 0.8): "Knäck högskoleprovet med rätt teknik"
    - Maxa badge at bottom (#D4A017 bg, #1E1A2D text)

    CRITICAL: Every single `<div>` element MUST have `display: "flex"` in its style. This includes text-only divs. Satori requires explicit display:flex on all divs with children. Without this, the build will fail.
  </action>
  <verify>Check file exists and all divs have display: "flex".</verify>
  <done>Hub strategy page has branded OG image.</done>
</task>

<task type="auto">
  <name>Task 2: Create OG images for 4 individual strategy pages</name>
  <files>
    apps/web/src/app/hogskoleprovet/strategier/kvantitativa-fallor/opengraph-image.tsx
    apps/web/src/app/hogskoleprovet/strategier/verbala-fallor/opengraph-image.tsx
    apps/web/src/app/hogskoleprovet/strategier/vanliga-misstag/opengraph-image.tsx
    apps/web/src/app/hogskoleprovet/strategier/tidsstrategi/opengraph-image.tsx
  </files>
  <action>
    Create 4 opengraph-image.tsx files, one for each strategy page. Use the SAME template as Task 1 but with page-specific content:

    1. **kvantitativa-fallor/opengraph-image.tsx**:
       - alt: "Kvantitativa Fällor - Högskoleprovet Strategier - Maxa"
       - Subtitle: "HP Strategier"
       - Title: "Kvantitativa Fällor"
       - Description: "Undvik fällor i XYZ, KVA, NOG och DTK"

    2. **verbala-fallor/opengraph-image.tsx**:
       - alt: "Verbala Fällor - Högskoleprovet Strategier - Maxa"
       - Subtitle: "HP Strategier"
       - Title: "Verbala Fällor"
       - Description: "Undvik fällor i ORD, LÄS, MEK och ELF"

    3. **vanliga-misstag/opengraph-image.tsx**:
       - alt: "Vanliga Misstag - Högskoleprovet Strategier - Maxa"
       - Subtitle: "HP Strategier"
       - Title: "Vanliga Misstag"
       - Description: "De 12 misstagen som sänker ditt resultat"

    4. **tidsstrategi/opengraph-image.tsx**:
       - alt: "Tidsstrategi - Högskoleprovet Strategier - Maxa"
       - Subtitle: "HP Strategier"
       - Title: "Tidsstrategi"
       - Description: "Maximera poängen per minut"

    CRITICAL: Every single `<div>` element MUST have `display: "flex"` in its style. Copy the exact same JSX structure from Task 1, only changing alt, title, subtitle, and description strings.
  </action>
  <verify>
    1. All 4 files exist in correct directories
    2. All divs in every file have display: "flex"
    3. Run `cd apps/web && npx next build 2>&1 | grep -i "error\|strategier"` to verify no build errors for strategy OG images
  </verify>
  <done>
    All 4 individual strategy pages have branded OG images that build successfully without Satori errors.
  </done>
</task>

</tasks>

<verification>
1. `ls apps/web/src/app/hogskoleprovet/strategier/opengraph-image.tsx` exists
2. `ls apps/web/src/app/hogskoleprovet/strategier/*/opengraph-image.tsx` returns 4 files
3. `bun run build` completes without OG image errors for strategy pages
4. Each OG image file has unique alt text and content
</verification>

<success_criteria>
- 5 strategy OG image files created
- All build without Satori errors
- Each has page-specific title, subtitle, and description
- Dark theme consistent with site branding
</success_criteria>

<output>
After completion, create `.planning/phases/07-gap-closure-link-integrity/07-04-SUMMARY.md`
</output>
