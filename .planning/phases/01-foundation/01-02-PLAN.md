---
phase: 01-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/mobile/constants/mock-questions.ts
autonomous: true

must_haves:
  truths:
    - "10 mock HP questions are available with correct answers and explanations"
    - "Questions cover at least 4 HP types (ORD, LAS, XYZ, KVA)"
    - "Mock scoring calculates accuracy and XP correctly"
  artifacts:
    - path: "apps/mobile/constants/mock-questions.ts"
      provides: "Mock questions for 4+ HP section types"
      exports: ["MOCK_QUESTIONS", "MOCK_QUESTIONS_XYZ", "MOCK_QUESTIONS_ORD", "MOCK_QUESTIONS_LAS", "MOCK_QUESTIONS_KVA", "getMixedQuestions", "calculateSessionXP"]
  key_links:
    - from: "apps/mobile/constants/mock-questions.ts"
      to: "quiz screens"
      via: "getMixedQuestions function"
      pattern: "getMixedQuestions"
---

<objective>
Create a complete set of 10 mixed mock HP questions covering 4 question types with scoring utilities.

Purpose: Provide realistic practice content for the quiz flow and demo. Enable XP calculation.
Output: Expanded mock-questions.ts with LAS, KVA questions and scoring utilities.
</objective>

<execution_context>
@/Users/williamlarsten/.claude/get-shit-done/workflows/execute-plan.md
@/Users/williamlarsten/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-RESEARCH.md

# Existing mock questions file to extend
@apps/mobile/constants/mock-questions.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add LAS (Swedish Reading) questions</name>
  <files>apps/mobile/constants/mock-questions.ts</files>
  <action>
Add 3 authentic LAS (Lasforstaelse / Swedish Reading Comprehension) questions.

LAS questions present a short Swedish text passage followed by comprehension questions.

Create `MOCK_QUESTIONS_LAS: Question[]` with 3 questions:

1. A short passage about Swedish nature/environment (2-3 sentences), question about main idea
2. A passage about a scientific concept (2-3 sentences), question about a specific detail
3. A passage about Swedish culture/history (2-3 sentences), inference question

Each question should:
- Have `section: 'LAS'`
- Include a brief text passage in the question text (use line breaks for readability)
- Have 4 options (A, B, C, D)
- Have a clear correct answer with explanation
- Use Swedish language for the passage and options

Example structure for question text:
```
"Lagen om allemansratten ger alla ratt att vistas i naturen, aven pa privat mark.
Man far dock inte skada natur eller djurliv.

Vad ar huvudsyftet med allemansratten?"
```

Update the `MOCK_QUESTIONS` record to use `MOCK_QUESTIONS_LAS` for the 'LAS' key instead of falling back to ORD.
  </action>
  <verify>
    - `grep -c "section: 'LÃ„S'" apps/mobile/constants/mock-questions.ts` shows 3
    - Each LAS question has passage text with comprehension question
    - MOCK_QUESTIONS['LAS'] returns MOCK_QUESTIONS_LAS (not ORD fallback)
  </verify>
  <done>
    - 3 LAS questions added with Swedish text passages
    - Each has 4 options, correct answer, and explanation
    - MOCK_QUESTIONS record updated
  </done>
</task>

<task type="auto">
  <name>Task 2: Add KVA (Quantitative Comparison) questions</name>
  <files>apps/mobile/constants/mock-questions.ts</files>
  <action>
Add 3 authentic KVA (Kvantitativa jamforelser / Quantitative Comparisons) questions.

KVA questions present two quantities and ask which is larger (or if they're equal, or if it can't be determined).

Create `MOCK_QUESTIONS_KVA: Question[]` with 3 questions:

Standard KVA format:
```
"Jamfor de tva kvantiteterna:
Kvantitet I: [first quantity]
Kvantitet II: [second quantity]"
```

Standard KVA options (always these 4):
```
A: Kvantitet I ar storst
B: Kvantitet II ar storst
C: Kvantiteterna ar lika stora
D: Det gar inte att avgora
```

Create 3 questions:
1. Simple numeric comparison (algebra)
2. Geometric comparison (areas, volumes)
3. Comparison requiring inference (variables with constraints)

Each should have:
- `section: 'KVA'`
- The standard comparison format
- The 4 standard KVA options
- Clear explanation of why the answer is correct

Update `MOCK_QUESTIONS` record to use `MOCK_QUESTIONS_KVA` for 'KVA' key instead of XYZ fallback.
  </action>
  <verify>
    - `grep -c "section: 'KVA'" apps/mobile/constants/mock-questions.ts` shows 3
    - Each KVA question uses the standard comparison format
    - MOCK_QUESTIONS['KVA'] returns MOCK_QUESTIONS_KVA (not XYZ fallback)
  </verify>
  <done>
    - 3 KVA questions added with standard comparison format
    - Each uses the 4 standard KVA options
    - Each has clear explanation
    - MOCK_QUESTIONS record updated
  </done>
</task>

<task type="auto">
  <name>Task 3: Add mixed questions getter and XP calculation utilities</name>
  <files>apps/mobile/constants/mock-questions.ts</files>
  <action>
Add utility functions for quiz sessions:

**1. getMixedQuestions(count: number): Question[]**
Returns a mixed set of questions from different sections:
- For count=10: 3 ORD, 2 LAS, 3 XYZ, 2 KVA (representative HP mix)
- Shuffle within each section, then interleave
- Renumber questions 1 to N
- Return array of Question objects

Implementation approach:
```typescript
export function getMixedQuestions(count: number = 10): Question[] {
  // Take proportional amounts from each section
  const ord = MOCK_QUESTIONS_ORD.slice(0, 3)
  const las = MOCK_QUESTIONS_LAS.slice(0, 2)
  const xyz = MOCK_QUESTIONS_XYZ.slice(0, 3)
  const kva = MOCK_QUESTIONS_KVA.slice(0, 2)

  // Combine and shuffle
  const mixed = [...ord, ...las, ...xyz, ...kva]
    .sort(() => Math.random() - 0.5)
    .slice(0, count)
    .map((q, i) => ({ ...q, number: i + 1 }))

  return mixed
}
```

**2. calculateSessionXP(answers: AnswerRecord[]): { xp: number; accuracy: number }**
Calculate XP earned from a quiz session:
- Base XP per correct answer: 10
- Streak bonus: +2 XP for each consecutive correct (2nd correct = +2, 3rd = +4, etc.)
- Return total XP and accuracy percentage

```typescript
export function calculateSessionXP(answers: AnswerRecord[]): { xp: number; accuracy: number } {
  let xp = 0
  let streak = 0
  let correct = 0

  for (const answer of answers) {
    if (answer.correct) {
      correct++
      xp += 10 + (streak * 2)
      streak++
    } else {
      streak = 0
    }
  }

  const accuracy = answers.length > 0 ? (correct / answers.length) * 100 : 0
  return { xp: Math.round(xp), accuracy: Math.round(accuracy) }
}
```

Import AnswerRecord type at top of file if not already available for the function signature.
  </action>
  <verify>
    - `grep "getMixedQuestions" apps/mobile/constants/mock-questions.ts` shows function exists
    - `grep "calculateSessionXP" apps/mobile/constants/mock-questions.ts` shows function exists
    - `cd apps/mobile && bun run typecheck` passes
  </verify>
  <done>
    - getMixedQuestions returns 10 questions from 4 sections
    - calculateSessionXP computes XP with streak bonus and accuracy
    - TypeScript compiles without errors
    - Functions are exported
  </done>
</task>

</tasks>

<verification>
After all tasks:
1. `cd apps/mobile && bun run typecheck` - No TypeScript errors
2. Count unique sections: file should have ORD, LAS, XYZ, KVA with real questions (not fallbacks)
3. Total questions: at least 10 unique questions across the 4 types
4. Both utility functions exported and typed correctly
</verification>

<success_criteria>
- MOCK_QUESTIONS_LAS array with 3 Swedish reading comprehension questions
- MOCK_QUESTIONS_KVA array with 3 quantitative comparison questions
- getMixedQuestions(10) returns 10 questions from 4 HP types
- calculateSessionXP correctly computes XP with streak bonus
- All questions have correct answers and explanations
- MOCK_QUESTIONS record uses real arrays (not fallbacks) for all 4 required types
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
