---
phase: 06-complete-normering-data
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/data/tests.ts
  - apps/web/src/data/normering/hosten-2023.json
  - apps/web/src/data/normering/varen-2023.json
  - apps/web/src/data/normering/hosten-2022.json
  - apps/web/src/data/normering/varen-2022.json
  - apps/web/src/data/normering/varen-2022-mars.json
  - apps/web/src/data/normering/hosten-2021.json
  - apps/web/src/data/normering/varen-2021.json
  - apps/web/src/data/normering/varen-2021-mars.json
  - apps/web/src/data/normering/hosten-2020.json
  - apps/web/public/pdfs/hosten-2023/
  - apps/web/public/pdfs/varen-2023/
  - apps/web/public/pdfs/hosten-2022/
  - apps/web/public/pdfs/varen-2022/
  - apps/web/public/pdfs/varen-2022-mars/
  - apps/web/public/pdfs/hosten-2021/
  - apps/web/public/pdfs/varen-2021/
  - apps/web/public/pdfs/varen-2021-mars/
  - apps/web/public/pdfs/hosten-2020/
autonomous: true

must_haves:
  truths:
    - "All 2020-2023 test pages display normering charts"
    - "Normering PDFs for 9 tests are stored locally"
    - "tests.ts has normering file references for all 9 tests"
  artifacts:
    - path: "apps/web/src/data/normering/hosten-2023.json"
      provides: "HT 2023 normering distribution data"
      contains: "testId.*hosten-2023"
    - path: "apps/web/src/data/normering/hosten-2020.json"
      provides: "HT 2020 normering distribution data"
      contains: "testId.*hosten-2020"
  key_links:
    - from: "apps/web/src/data/tests.ts"
      to: "local PDFs"
      via: "normering file entries"
      pattern: 'fileType.*normering'
---

<objective>
Download normering PDFs and extract JSON data for the 2020-2023 tests (9 tests including COVID-era dual test dates).

Purpose: Complete normering data for the 2020-2023 period which includes tests with dual dates (VT 2021, VT 2022 had both March and May administrations).
Output: 9 new JSON files with normering data, normering PDFs stored locally, tests.ts updated.
</objective>

<execution_context>
@/Users/williamlarsten/.claude/get-shit-done/workflows/execute-plan.md
@/Users/williamlarsten/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-complete-normering-data/06-RESEARCH.md
@apps/web/src/data/tests.ts
@apps/web/src/data/normering/hosten-2025.json
@apps/web/src/lib/normering/types.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Download normering PDFs for 2020-2023 tests</name>
  <files>
    apps/web/public/pdfs/hosten-2023/
    apps/web/public/pdfs/varen-2023/
    apps/web/public/pdfs/hosten-2022/
    apps/web/public/pdfs/varen-2022/
    apps/web/public/pdfs/varen-2022-mars/
    apps/web/public/pdfs/hosten-2021/
    apps/web/public/pdfs/varen-2021/
    apps/web/public/pdfs/varen-2021-mars/
    apps/web/public/pdfs/hosten-2020/
    apps/web/src/data/tests.ts
  </files>
  <action>
Download normering PDFs from studera.nu for 9 tests. Use the URLs from 06-RESEARCH.md.

**2023 Tests:**
- HT 2023: https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-hosten-20232/
  Store in: apps/web/public/pdfs/hosten-2023/
  Files: norm23b-helaprovet.pdf, norm23b-verb.pdf, norm23b-kvant.pdf

- VT 2023: https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-varen-2023/
  Store in: apps/web/public/pdfs/varen-2023/
  Files: norm23a-helaprovet.pdf, norm23a-verb.pdf, norm23a-kvant.pdf

**2022 Tests:**
- HT 2022: https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-hosten-2022/
  Store in: apps/web/public/pdfs/hosten-2022/
  Files: norm22b-helaprovet.pdf, norm22b-verb.pdf, norm22b-kvant.pdf

- VT 2022 (May): https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-varen-2022-7-maj/
  Store in: apps/web/public/pdfs/varen-2022/
  Files: norm22a2-helaprovet.pdf, norm22a2-verb.pdf, norm22a2-kvant.pdf

- VT 2022 (Mar): https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-varen-2022-12-mars/
  Store in: apps/web/public/pdfs/varen-2022-mars/
  Files: norm22a1-helaprovet.pdf, norm22a1-verb.pdf, norm22a1-kvant.pdf

**2021 Tests:**
- HT 2021: https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-hosten-2021/
  Store in: apps/web/public/pdfs/hosten-2021/
  Files: norm21b-helaprovet.pdf, norm21b-verb.pdf, norm21b-kvant.pdf

- VT 2021 (May): https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-varen-2021-8-maj/
  Store in: apps/web/public/pdfs/varen-2021/
  Files: norm21a2-helaprovet.pdf, norm21a2-verb.pdf, norm21a2-kvant.pdf

- VT 2021 (Mar): https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-varen-2021-13-mars/
  Store in: apps/web/public/pdfs/varen-2021-mars/
  Files: norm21a1-helaprovet.pdf, norm21a1-verb.pdf, norm21a1-kvant.pdf

**2020 Test:**
- HT 2020: https://www.studera.nu/hogskoleprov/fpn/normeringstabeller-hosten-2020/
  Store in: apps/web/public/pdfs/hosten-2020/
  Files: norm20b-helaprovet.pdf, norm20b-verb.pdf, norm20b-kvant.pdf

Note: VT 2020 was cancelled due to COVID-19 - no normering data exists.

After downloading, update apps/web/src/data/tests.ts with normering file entries for each test.
Use the same pattern as hosten-2025 (see Task 1 of Plan 06-01 for example).
  </action>
  <verify>
# Count PDF files
find apps/web/public/pdfs -name "norm*.pdf" -newer apps/web/public/pdfs/hosten-2025 | wc -l
# Should show 27 new files (9 tests x 3 PDFs each)

# Check tests.ts has normering entries
grep -c "normering" apps/web/src/data/tests.ts
# Should show 39 (3 for hosten-2025 + 9 from plan-01 + 27 new)
  </verify>
  <done>
27 normering PDFs downloaded for 2020-2023 tests. tests.ts updated with normering file entries for all 9 tests.
  </done>
</task>

<task type="auto">
  <name>Task 2: Extract and validate normering JSON for 2020-2023 tests</name>
  <files>
    apps/web/src/data/normering/hosten-2023.json
    apps/web/src/data/normering/varen-2023.json
    apps/web/src/data/normering/hosten-2022.json
    apps/web/src/data/normering/varen-2022.json
    apps/web/src/data/normering/varen-2022-mars.json
    apps/web/src/data/normering/hosten-2021.json
    apps/web/src/data/normering/varen-2021.json
    apps/web/src/data/normering/varen-2021-mars.json
    apps/web/src/data/normering/hosten-2020.json
  </files>
  <action>
Extract normering data from PDFs into JSON format for all 9 tests.

For each test:

1. Read helaprovet PDF - extract 41-row distribution (0.00 to 2.00 in 0.05 steps)
2. Read verbal PDF - extract 21-row distribution (0.0 to 2.0 in 0.1 steps)
3. Read kvantitativ PDF - extract 21-row distribution (0.0 to 2.0 in 0.1 steps)
4. Create JSON file matching hosten-2025.json schema

**Test dates for JSON testDate field:**
- hosten-2023: 2023-10-22
- varen-2023: 2023-03-25
- hosten-2022: 2022-10-23
- varen-2022: 2022-05-07
- varen-2022-mars: 2022-03-12
- hosten-2021: 2021-10-24
- varen-2021: 2021-05-08
- varen-2021-mars: 2021-03-13
- hosten-2020: 2020-10-25

**Validation for each file:**
- Total: 41 rows, cumulative ends at 100%
- Verbal/Kvant: 21 rows each, cumulative ends at 100%
- Mean typically 0.5-1.5, stdDev typically 0.2-0.6
- Participant counts are reasonable (typically 40,000-60,000 for total)

**COVID-era notes:**
- 2020-2021 tests may have lower participant counts due to reduced capacity
- Dual-date tests (mars vs maj) are separate normerings with different participant pools
  </action>
  <verify>
# Count JSON files
ls apps/web/src/data/normering/*.json | wc -l
# Should show 13 files (1 existing + 3 from plan-01 + 9 new)

# Validate all JSON syntax
for f in apps/web/src/data/normering/*.json; do
  node -e "JSON.parse(require('fs').readFileSync('$f', 'utf8'))" && echo "OK: $f"
done

# Verify build works
cd apps/web && bun run build 2>&1 | tail -5
  </verify>
  <done>
9 new JSON files created for 2020-2023 tests. All files validated for structure and accuracy. Build passes.
  </done>
</task>

</tasks>

<verification>
1. 27 normering PDFs downloaded to correct directories
2. tests.ts has normering entries for all 9 tests
3. 9 new JSON files created with valid normering data
4. All JSON files match schema
5. Build succeeds
6. Sample test pages display normering charts correctly
</verification>

<success_criteria>
- 27 normering PDFs downloaded and stored locally
- tests.ts updated with normering file references for all 9 tests
- 9 new JSON files created with valid normering data
- All JSON files have correct row counts (41 for total, 21 for verbal/kvant)
- bun run build succeeds without errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-complete-normering-data/06-02-SUMMARY.md`
</output>
