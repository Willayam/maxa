---
phase: 05-cross-linking-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/components/ui/breadcrumb.tsx
  - apps/web/src/components/navigation/test-breadcrumbs.tsx
  - apps/web/src/app/hogskoleprovet/[slug]/page.tsx
  - apps/web/src/app/hogskoleprovet/page.tsx
autonomous: true

must_haves:
  truths:
    - "Test detail pages show breadcrumb trail: Hem > Gamla prov > [Test Name]"
    - "Test list page shows breadcrumb trail: Hem > Gamla prov"
    - "Breadcrumbs are accessible with proper ARIA attributes"
    - "Current page is marked with aria-current='page'"
  artifacts:
    - path: "apps/web/src/components/ui/breadcrumb.tsx"
      provides: "shadcn breadcrumb primitives"
      contains: "BreadcrumbPage"
    - path: "apps/web/src/components/navigation/test-breadcrumbs.tsx"
      provides: "Reusable test breadcrumb component"
      exports: ["TestBreadcrumbs"]
  key_links:
    - from: "apps/web/src/app/hogskoleprovet/[slug]/page.tsx"
      to: "TestBreadcrumbs component"
      via: "import and render"
      pattern: "import.*TestBreadcrumbs"
---

<objective>
Add accessible breadcrumb navigation to hogskoleprovet pages using shadcn/ui breadcrumb component.

Purpose: Breadcrumbs improve navigation UX and provide semantic structure for search engines (connects with existing BreadcrumbList JSON-LD from Phase 2).
Output: Visual breadcrumb component on all test pages showing navigation hierarchy.
</objective>

<execution_context>
@/Users/williamlarsten/.claude/get-shit-done/workflows/execute-plan.md
@/Users/williamlarsten/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-cross-linking-polish/05-RESEARCH.md

@apps/web/src/app/hogskoleprovet/[slug]/page.tsx
@apps/web/src/app/hogskoleprovet/page.tsx
@apps/web/src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install shadcn breadcrumb and create TestBreadcrumbs component</name>
  <files>
    apps/web/src/components/ui/breadcrumb.tsx
    apps/web/src/components/navigation/test-breadcrumbs.tsx
  </files>
  <action>
1. Install shadcn breadcrumb component:
   ```bash
   cd apps/web && npx shadcn@latest add breadcrumb
   ```

2. Create navigation directory and TestBreadcrumbs component at `apps/web/src/components/navigation/test-breadcrumbs.tsx`:
   - Import Breadcrumb primitives from @/components/ui/breadcrumb
   - Create TestBreadcrumbs component accepting optional `test` prop (Test type from @/data/tests)
   - When test is provided: Hem > Gamla prov > [Season Year]
   - When test is not provided (list page): Hem > Gamla prov
   - Use Link from next/link for BreadcrumbLink
   - Format season label: "Varen" for var, "Hosten" for host (Swedish)
   - Style with existing design tokens (text-foreground-muted, hover:text-primary)

Example structure:
```tsx
import { Breadcrumb, BreadcrumbItem, BreadcrumbLink, BreadcrumbList, BreadcrumbPage, BreadcrumbSeparator } from "@/components/ui/breadcrumb"
import Link from "next/link"
import type { Test } from "@/data/tests"

export function TestBreadcrumbs({ test }: { test?: Test }) {
  const seasonLabel = test?.season === "var" ? "Varen" : "Hosten"

  return (
    <Breadcrumb className="mb-6">
      <BreadcrumbList>
        <BreadcrumbItem>
          <BreadcrumbLink asChild>
            <Link href="/">Hem</Link>
          </BreadcrumbLink>
        </BreadcrumbItem>
        <BreadcrumbSeparator />
        <BreadcrumbItem>
          {test ? (
            <BreadcrumbLink asChild>
              <Link href="/hogskoleprovet">Gamla prov</Link>
            </BreadcrumbLink>
          ) : (
            <BreadcrumbPage>Gamla prov</BreadcrumbPage>
          )}
        </BreadcrumbItem>
        {test && (
          <>
            <BreadcrumbSeparator />
            <BreadcrumbItem>
              <BreadcrumbPage>{seasonLabel} {test.year}</BreadcrumbPage>
            </BreadcrumbItem>
          </>
        )}
      </BreadcrumbList>
    </Breadcrumb>
  )
}
```
  </action>
  <verify>
    - File exists: apps/web/src/components/ui/breadcrumb.tsx (shadcn component)
    - File exists: apps/web/src/components/navigation/test-breadcrumbs.tsx
    - TypeScript compiles: `cd apps/web && bun run build` (or check with tsc)
  </verify>
  <done>
    Breadcrumb UI primitives installed and TestBreadcrumbs component created with proper ARIA structure.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate breadcrumbs into hogskoleprovet pages</name>
  <files>
    apps/web/src/app/hogskoleprovet/[slug]/page.tsx
    apps/web/src/app/hogskoleprovet/page.tsx
  </files>
  <action>
1. Update test detail page (`apps/web/src/app/hogskoleprovet/[slug]/page.tsx`):
   - Import TestBreadcrumbs from @/components/navigation/test-breadcrumbs
   - Add TestBreadcrumbs component after the back link, passing the test object
   - Remove or style the existing back link to not conflict with breadcrumb (back link can stay as secondary nav)

2. Update test list page (`apps/web/src/app/hogskoleprovet/page.tsx`):
   - Import TestBreadcrumbs from @/components/navigation/test-breadcrumbs
   - Add TestBreadcrumbs component at top of main content area (no test prop = shows "Hem > Gamla prov")

3. Ensure consistent placement:
   - Breadcrumbs appear right after header, before page title
   - Use mb-6 for spacing below breadcrumbs
  </action>
  <verify>
    - Run dev server: `cd apps/web && bun dev`
    - Visit http://localhost:3000/hogskoleprovet - should show "Hem > Gamla prov"
    - Visit http://localhost:3000/hogskoleprovet/hosten-2025 - should show "Hem > Gamla prov > Hosten 2025"
    - Check accessibility: final item should have aria-current="page"
  </verify>
  <done>
    Breadcrumb navigation visible on test list and detail pages with proper hierarchy.
  </done>
</task>

</tasks>

<verification>
1. Visual check: Breadcrumbs appear on both /hogskoleprovet and /hogskoleprovet/[slug] pages
2. Accessibility: Inspect HTML - nav element with aria-label, ol with li items, aria-current on last item
3. Links work: Clicking "Hem" goes to /, clicking "Gamla prov" goes to /hogskoleprovet
4. Styling: Matches existing design (muted text, primary on hover)
</verification>

<success_criteria>
- Breadcrumb component installed and working
- Test list page shows: Hem > Gamla prov
- Test detail pages show: Hem > Gamla prov > [Season Year]
- All breadcrumb links are clickable and navigate correctly
- Proper ARIA attributes for screen reader accessibility
</success_criteria>

<output>
After completion, create `.planning/phases/05-cross-linking-polish/05-01-SUMMARY.md`
</output>
